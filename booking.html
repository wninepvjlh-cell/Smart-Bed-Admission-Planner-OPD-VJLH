<!doctype html>
<html lang="th">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Booking - Smart Bed Admission Planner</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="firebase-init.js"></script>
  <script src="firestore-sync.js"></script>
  <script src="access-control.js"></script>
  <!-- <script src="data-sync.js"></script> -->
 </head>
 <body>
  <button type="button" id="logoutBtn" class="logout-button">Logout</button>
    <!-- Removed broken/incomplete access control script to allow normal page rendering -->
    <header style="background: linear-gradient(135deg, #80deea 0%, #81c784 100%); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
      <div style="padding: 24px; text-align: center;">
        <h1 style="font-size: 2.2rem; font-weight: 600; color: white; margin: 0;">Smart Bed Admission Planner</h1>
        <div style="font-size: 1.2rem; font-weight: 400; color: white;">‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÄ‡∏ß‡∏ä‡∏ä‡∏≤‡∏£‡∏±‡∏Å‡∏©‡πå ‡∏•‡∏≥‡∏õ‡∏≤‡∏á</div>
        <div style="font-size: 1rem; margin-top: 8px; color: rgba(255,255,255,0.9);">‡πÄ‡∏ß‡∏ä‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ü‡∏∑‡πâ‡∏ô‡∏ü‡∏π - ‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ô‡∏≠‡∏Å</div>
      </div>
    </header>
    <nav style="background: white; padding: 16px 24px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); width: 100%; margin-bottom: 0;">
      <div style="display:flex; align-items:center; gap:12px; flex-wrap:wrap;">
        <div style="display:flex; gap:12px; flex-wrap:wrap; justify-content:center; flex:1 1 auto;">
          <a class="nav-button" href="dashboard.html" style="padding: 10px 20px; border-radius: 8px; background: white; font-size: 15px; font-weight: 500; color: #00796b; text-decoration: none;">Dashboard</a>
          
          <a class="nav-button" href="predict.html" style="padding: 10px 20px; border-radius: 8px; background: white; font-size: 15px; font-weight: 500; color: #00796b;">‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ß‡∏±‡∏ô Admit ‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î</a>

          <div class="nav-dropdown" style="display:inline-block;position:relative;">
            <button type="button" class="nav-button" id="bookingDropdownBtn" style="padding: 10px 20px; border-radius: 8px; background: white; font-size: 15px; font-weight: 500; color: #00796b; cursor:pointer;">‡∏à‡∏≠‡∏á‡πÄ‡∏ï‡∏µ‡∏¢‡∏á Admit ‚ñº</button>
            <div class="dropdown-content" id="bookingDropdownContent" style="display:none;position:absolute;left:0;top:100%;background:white;min-width:220px;box-shadow:0 2px 8px rgba(0,0,0,0.12);border-radius:8px;z-index:10;">
              <a href="booking-patient-info.html" style="display:block;padding:10px 20px;color:#00796b;text-decoration:none;font-size:15px;border-radius:8px 8px 0 0;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏à‡∏≠‡∏á‡πÄ‡∏ï‡∏µ‡∏¢‡∏á</a>
            </div>
          </div>
          <a class="nav-button" href="registry.html" style="padding: 10px 20px; border-radius: 8px; background: white; font-size: 15px; font-weight: 500; color: #00796b;">‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏à‡∏≠‡∏á‡πÄ‡∏ï‡∏µ‡∏¢‡∏á</a>
          
          <a class="nav-button" href="ipd.html" style="padding: 10px 20px; border-radius: 8px; background: white; font-size: 15px; font-weight: 500; color: #00796b;">‡∏´‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÉ‡∏ô(IPD)</a>
          <a class="nav-button" href="data-archive.html" style="padding: 10px 20px; border-radius: 8px; background: white; font-size: 15px; font-weight: 500; color: #00796b;">‡∏Ñ‡∏•‡∏±‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</a>
        </div>
        
          <script>
            // Dropdown toggle on click, closes on outside click
            document.addEventListener('DOMContentLoaded', function() {
              var btn = document.getElementById('bookingDropdownBtn');
              var content = document.getElementById('bookingDropdownContent');
              if(btn && content) {
                btn.addEventListener('click', function(e) {
                  e.stopPropagation();
                  content.style.display = (content.style.display === 'block') ? 'none' : 'block';
                });
                // Close dropdown when clicking outside
                document.addEventListener('click', function(e) {
                  if (!content.contains(e.target) && e.target !== btn) {
                    content.style.display = 'none';
                  }
                });
              }
            });
          </script>
      </div>
    </nav>
  <div class="app-container">
  <!-- Removed broken/incomplete script that prevented page rendering -->
   <main style="padding:24px;background:linear-gradient(135deg,#e0f7fa 0%,#e8f5e9 50%,#f1f8e9 100%);">
     <div style="max-width:1100px;margin:0 auto;">
      <!-- Page Title -->
      <div style="background:linear-gradient(135deg,#ffffff 0%,#e0f7fa 100%);border-radius:24px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px rgba(0,0,0,0.08);border-left:6px solid #00897b;">
        <h2 style="font-size:28px;color:#004d40;margin:0;font-weight:700;">üìã ‡∏à‡∏≠‡∏á‡πÄ‡∏ï‡∏µ‡∏¢‡∏á Admit</h2>
        <p style="color:#00695c;margin:8px 0 0 0;font-size:14px;">‡πÇ‡∏õ‡∏£‡∏î‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÅ‡∏•‡∏∞‡∏•‡∏á‡∏ô‡∏±‡∏î‡∏à‡∏≠‡∏á‡πÄ‡∏ï‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô</p>
      </div>

      <form id="booking-form">
        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ -->
        <div style="background:linear-gradient(135deg,#ffffff 0%,#e1f5fe 100%);border-radius:24px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px rgba(0,0,0,0.08);border-top:4px solid #4fc3f7;">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:24px;padding-bottom:16px;border-bottom:3px solid;border-image:linear-gradient(90deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
            <div style="width:40px;height:40px;background:linear-gradient(135deg,#0277bd 0%,#4fc3f7 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:18px;">1</div>
            <h3 style="font-size:22px;color:#01579b;margin:0;font-weight:700;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</h3>
          </div>
          
          <!-- Row 1: HN, Name -->
          <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-bottom:20px;">
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">HN (‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢) *</label>
              <input id="patient-hn" type="text" required placeholder="‡πÄ‡∏ä‡πà‡∏ô HN001" onblur="loadPatientData(this.value)" style="width:100%;padding:12px;border:2px solid #80deea;border-radius:12px;font-size:15px;font-weight:500;background:#f0f9fa;">
              <p style="font-size:12px;color:#00695c;margin:4px 0 0 0;">‡∏ñ‡πâ‡∏≤‡∏Å‡∏£‡∏≠‡∏Å HN ‡πÄ‡∏î‡∏¥‡∏° ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏≠‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
            </div>
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#9ccc65 0%,#b5e61d 50%,#c5e1a5 100%) 1;">
              <label style="display:block;color:#1b5e20;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏• *</label>
              <input id="patient-name" type="text" required placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" style="width:100%;padding:12px;border:2px solid #81c784;border-radius:12px;font-size:15px;font-weight:500;background:#f1f8e9;">
            </div>
          </div>

          <!-- Row 2: Age, Phone, Gender -->
          <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-bottom:20px;">
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#26a69a 0%,#4db6ac 50%,#80cbc4 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏õ‡∏µ) *</label>
              <input id="patient-age" type="number" required placeholder="‡πÄ‡∏ä‡πà‡∏ô 65" style="width:100%;padding:12px;border:2px solid #4db6ac;border-radius:12px;font-size:15px;font-weight:500;background:#e0f2f1;">
            </div>
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
              <label style="display:block;color:#01579b;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå *</label>
              <input id="patient-phone" type="tel" required placeholder="0XX-XXX-XXXX" style="width:100%;padding:12px;border:2px solid #4fc3f7;border-radius:12px;font-size:15px;font-weight:500;background:#e1f5fe;">
            </div>
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#ab47bc 0%,#ba68c8 50%,#ce93d8 100%) 1;">
              <label style="display:block;color:#4a148c;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡πÄ‡∏û‡∏® *</label>
              <select id="patient-gender" required style="width:100%;padding:12px;border:2px solid #ba68c8;border-radius:12px;font-size:15px;font-weight:500;background:#f3e5f5;cursor:pointer;">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏® --</option>
                <option value="‡∏ä‡∏≤‡∏¢">‡∏ä‡∏≤‡∏¢</option>
                <option value="‡∏´‡∏ç‡∏¥‡∏á">‡∏´‡∏ç‡∏¥‡∏á</option>
              </select>
            </div>
          </div>

          <!-- Row 3: Diagnosis -->
          <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-bottom:20px;">
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">Diagnosis (‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢) *</label>
              <select id="diagnosis" required onchange="handleDiagnosisChange()" style="width:100%;padding:12px;border:2px solid #80deea;border-radius:12px;font-size:15px;font-weight:500;background:#f0f9fa;">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Diagnosis --</option>
                <option value="Stroke">Stroke</option>
                <option value="SCI(Tetraplegia)">SCI (Tetraplegia)</option>
                <option value="SCI(Paraplegia)">SCI (Paraplegia)</option>
                <option value="TBI">TBI</option>
                <option value="Hip Fracture">Hip Fracture</option>
                <option value="etc">Etc. (‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏)</option>
              </select>
            </div>
            <div id="diagnosis-other-container" style="display:none;background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#9ccc65 0%,#b5e61d 50%,#c5e1a5 100%) 1;">
              <label style="display:block;color:#1b5e20;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏£‡∏∞‡∏ö‡∏∏ Diagnosis ‡∏≠‡∏∑‡πà‡∏ô‡πÜ</label>
              <input type="text" id="diagnosis-other" placeholder="‡∏£‡∏∞‡∏ö‡∏∏ Diagnosis" style="width:100%;padding:12px;border:2px solid #81c784;border-radius:12px;font-size:15px;font-weight:500;background:#f1f8e9;">
            </div>
          </div>

          <!-- Row 4: Disease Onset Date, IMC Status -->
          <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-bottom:20px;">
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#26a69a 0%,#4db6ac 50%,#80cbc4 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡πÇ‡∏£‡∏Ñ *</label>
              <input id="disease-onset-date" type="date" required onchange="calculateIMCStatus()" style="width:100%;padding:12px;border:2px solid #4db6ac;border-radius:12px;font-size:15px;font-weight:500;background:#e0f2f1;">
            </div>
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
              <label style="display:block;color:#01579b;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ IMC / Non-IMC</label>
              <input type="text" id="imc-status" readonly style="width:100%;padding:12px;border:2px solid #4fc3f7;border-radius:12px;font-size:15px;font-weight:700;background:#e1f5fe;color:#01579b;" placeholder="IMC / Non-IMC">
              <p style="font-size:11px;color:#01579b;margin:4px 0 0 0;">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥: ‚â§6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô = IMC</p>
            </div>
          </div>

          <!-- Row 5: Doctor (‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÑ‡∏Ç‡πâ) -->
          <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;">
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#9ccc65 0%,#b5e61d 50%,#c5e1a5 100%) 1;">
              <label style="display:block;color:#1b5e20;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÑ‡∏Ç‡πâ *</label>
              <select id="attending-doctor" required onchange="handleDoctorChange()" style="width:100%;padding:12px;border:2px solid #81c784;border-radius:12px;font-size:15px;font-weight:500;background:#f1f8e9;">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÑ‡∏Ç‡πâ --</option>
                <option value="‡∏ô‡∏û.‡∏ò‡∏ô‡∏†‡∏π‡∏°‡∏¥ ‡∏•‡∏±‡∏î‡∏î‡∏≤‡∏ä‡∏¢‡∏≤‡∏û‡∏£">‡∏ô‡∏û.‡∏ò‡∏ô‡∏†‡∏π‡∏°‡∏¥ ‡∏•‡∏±‡∏î‡∏î‡∏≤‡∏ä‡∏¢‡∏≤‡∏û‡∏£</option>
                <option value="‡∏ô‡∏û.‡∏ì‡∏±‡∏ä‡∏û‡∏• ‡∏ú‡∏•‡∏Å‡∏±‡∏ô‡∏ó‡∏≤">‡∏ô‡∏û.‡∏ì‡∏±‡∏ä‡∏û‡∏• ‡∏ú‡∏•‡∏Å‡∏±‡∏ô‡∏ó‡∏≤</option>
                <option value="‡∏ô‡∏û.‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå ‡∏ï‡∏±‡πâ‡∏á‡∏û‡∏≤‡∏ô‡∏¥‡∏ä‡∏¢‡∏≤‡∏ô‡∏ô‡∏ó‡πå">‡∏ô‡∏û.‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå ‡∏ï‡∏±‡πâ‡∏á‡∏û‡∏≤‡∏ô‡∏¥‡∏ä‡∏¢‡∏≤‡∏ô‡∏ô‡∏ó‡πå</option>
                <option value="other">‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏)</option>
              </select>
            </div>
            <div id="doctor-other-container" style="display:none;background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#26a69a 0%,#4db6ac 50%,#80cbc4 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏£‡∏∞‡∏ö‡∏∏‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÑ‡∏Ç‡πâ‡∏≠‡∏∑‡πà‡∏ô‡πÜ</label>
              <input type="text" id="doctor-other" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏û‡∏ó‡∏¢‡πå" style="width:100%;padding:12px;border:2px solid #4db6ac;border-radius:12px;font-size:15px;font-weight:500;background:#e0f2f1;">
            </div>
          </div>
        </div>

        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏•‡∏á‡∏ô‡∏±‡∏î‡∏à‡∏≠‡∏á‡πÄ‡∏ï‡∏µ‡∏¢‡∏á -->
        <div style="background:linear-gradient(135deg,#ffffff 0%,#f1f8e9 100%);border-radius:24px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px rgba(0,0,0,0.08);border-top:4px solid #9ccc65;">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:24px;padding-bottom:16px;border-bottom:3px solid;border-image:linear-gradient(90deg,#9ccc65 0%,#b5e61d 50%,#c5e1a5 100%) 1;">
            <div style="width:40px;height:40px;background:linear-gradient(135deg,#9ccc65 0%,#b5e61d 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:18px;">2</div>
            <h3 style="font-size:22px;color:#558b2f;margin:0;font-weight:700;">‡∏•‡∏á‡∏ô‡∏±‡∏î‡∏à‡∏≠‡∏á‡πÄ‡∏ï‡∏µ‡∏¢‡∏á</h3>
          </div>

          <!-- Row 1: Admission Details -->
          <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-bottom:20px;">
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏î Admit *</label>
              <input id="admit-date" type="date" required onchange="calculateWaitingTime()" style="width:100%;padding:12px;border:2px solid #0097a7;border-radius:12px;font-size:15px;font-weight:500;background:#e0f7fa;">
            </div>
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#26a69a 0%,#4db6ac 50%,#80cbc4 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ï‡∏µ‡∏¢‡∏á *</label>
              <select id="bed-type" required onchange="getAvailableBeds()" style="width:100%;padding:12px;border:2px solid #00897b;border-radius:12px;font-size:15px;font-weight:500;background:#e0f2f1;">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ï‡∏µ‡∏¢‡∏á --</option>
                <option value="standard">üõèÔ∏è ‡πÄ‡∏ï‡∏µ‡∏¢‡∏á‡∏™‡∏≤‡∏°‡∏±‡∏ç</option>
                <option value="vip">‚≠ê ‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏¥‡πÄ‡∏®‡∏©</option>
              </select>
            </div>
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÄ‡∏ï‡∏µ‡∏¢‡∏á (AI)</label>
              <input type="text" id="assigned-bed" readonly style="width:100%;padding:12px;border:2px solid #0277bd;border-radius:12px;font-size:15px;font-weight:700;background:#e1f5fe;color:#01579b;" placeholder="‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥">
              <p style="font-size:11px;color:#666;margin:4px 0 0 0;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ï‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è</p>
            </div>
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#9ccc65 0%,#b5e61d 50%,#c5e1a5 100%) 1;">
              <label style="display:block;color:#1b5e20;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">Waiting Time</label>
              <input type="text" id="waiting-time" readonly style="width:100%;padding:12px;border:2px solid #7cb342;border-radius:12px;font-size:15px;font-weight:700;background:#f1f8e9;color:#33691e;" placeholder="‚è±Ô∏è ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥">
              <p style="font-size:11px;color:#666;margin:4px 0 0 0;">‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô</p>
            </div>
          </div>

          <!-- Row 2: Lab & Channel -->
          <div style="display:grid;grid-template-columns:1fr;gap:16px;margin-bottom:20px;">
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">Lab Pre-admit *</label>
              <select id="lab-package" required onchange="handleLabChange()" style="width:100%;padding:12px;border:2px solid #0097a7;border-radius:12px;font-size:15px;font-weight:500;background:#e0f7fa;">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∏‡∏î Lab --</option>
                <option value="small">üìã ‡∏ä‡∏∏‡∏î‡πÄ‡∏•‡πá‡∏Å (CBC, Bun, Cr, Electrolyte, UA, EKG, CXR)</option>
                <option value="large">üìã ‡∏ä‡∏∏‡∏î‡πÉ‡∏´‡∏ç‡πà (CBC, Bun, Cr, Electrolyte, Ca, Mg, PO4, LFT, UA, EKG, CXR)</option>
                <option value="other">üîß ‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏)</option>
              </select>
            </div>
            <div id="lab-other-container" style="display:none;background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#26a69a 0%,#4db6ac 50%,#80cbc4 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏£‡∏∞‡∏ö‡∏∏ Lab ‡∏≠‡∏∑‡πà‡∏ô‡πÜ</label>
              <input type="text" id="lab-other" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Lab" style="width:100%;padding:12px;border:2px solid #00897b;border-radius:12px;font-size:15px;font-weight:500;background:#e0f2f1;">
            </div>
          </div>

          <!-- Row 3: Channel -->
          <div style="display:grid;grid-template-columns:1fr;gap:16px;margin-bottom:20px;">
            <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
              <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢ *</label>
              <select id="appointment-channel" required onchange="handleChannelChange()" style="width:100%;padding:12px;border:2px solid #0277bd;border-radius:12px;font-size:15px;font-weight:500;background:#e1f5fe;">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á --</option>
                <option value="OPD case">üè• OPD case</option>
                <option value="IPD case">üè® IPD case</option>
                <option value="Telemedicine">üì± Telemedicine</option>
                <option value="Seamless Refer">üîó Seamless Refer</option>
                <option value="walk in">üë£ Walk in</option>
              </select>
            </div>
            <div id="refer-hospital-container" style="display:none;background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#9ccc65 0%,#b5e61d 50%,#c5e1a5 100%) 1;">
              <label style="display:block;color:#1b5e20;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">‡∏£‡∏∞‡∏ö‡∏∏‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• (Seamless Refer)</label>
              <input type="text" id="refer-hospital" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•" style="width:100%;padding:12px;border:2px solid #7cb342;border-radius:12px;font-size:15px;font-weight:500;background:#f1f8e9;">
            </div>
          </div>

          <!-- Row 4: Notes -->
          <div style="background:#ffffff;padding:16px;border-radius:20px;border:2px solid;border-image:linear-gradient(135deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
            <label style="display:block;color:#004d40;font-weight:600;margin-bottom:8px;font-size:13px;text-transform:uppercase;">üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
            <p style="color:#666;font-size:12px;margin:0 0 8px 0;">‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏î‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏£‡∏û.‡∏≠‡∏∑‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏≠‡∏∑‡πà‡∏ô‡πÜ</p>
            <textarea id="notes" rows="3" style="width:100%;padding:12px;border:2px solid #0097a7;border-radius:12px;font-size:14px;font-weight:500;background:#e0f7fa;" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..."></textarea>
          </div>
        </div>

        <!-- Action Buttons -->
        <div style="display:flex;gap:16px;margin-bottom:24px;background:#ffffff;padding:24px;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,0.06);border:3px solid;border-image:linear-gradient(135deg,#0277bd 0%,#4fc3f7 50%,#81d4fa 100%) 1;">
          <button type="button" id="btn-booking" onclick="handleBookingSubmit()" style="width:100%;padding:16px;background:linear-gradient(135deg,#0277bd 0%,#4fc3f7 100%);color:white;border:none;border-radius:16px;font-size:18px;font-weight:700;cursor:pointer;box-shadow:0 4px 12px rgba(2,119,189,0.25);transition:all 0.3s ease;" onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 16px rgba(2,119,189,0.35)';" onmouseout="this.style.transform='translateY(0)';this.style.boxShadow='0 4px 12px rgba(2,119,189,0.25)';">
            ‚úÖ ‡∏à‡∏≠‡∏á‡πÄ‡∏ï‡∏µ‡∏¢‡∏á
          </button>
        </div>

        <!-- ...existing code... -->
      </form>
     </div>
   </main>
   <footer style="background: linear-gradient(135deg,#80deea 0%,#81c784 100%); padding:20px;text-align:center;width:100%;"><p style="color:white;font-size:14px;margin:0;">¬© 2024 ‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ô‡∏≠‡∏Å ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÄ‡∏ß‡∏ä‡∏ä‡∏≤‡∏£‡∏±‡∏Å‡∏©‡πå ‡∏•‡∏≥‡∏õ‡∏≤‡∏á | Smart Bed Admission Planner</p></footer>
  </div>
  <script src="booking-functions.js"></script>
 </body>
</html>